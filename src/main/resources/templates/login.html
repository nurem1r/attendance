<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Login</title>
    <style>
        /* Simplified fixed background and styles (no theme toggle) */

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            /* fixed blue gradient background that doesn't change when scrolling */
            background: linear-gradient(135deg, #306dd3 0%, #1042ad 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            /* ensure background remains fixed during scroll */
            background-attachment: fixed;
        }

        .login-container { width: 100%; max-width: 420px; }

        .login-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 45px 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .logo { text-align: center; margin-bottom: 25px; }
        .logo-icon { font-size: 3rem; display: block; margin-bottom:10px; }
        .logo h1 { color:#1f2937; font-size:1.6rem; font-weight:700; }
        .logo p { color:#4b5563; margin-top:4px; }

        h2 { text-align:center; color:#1f2937; font-size:1.4rem; margin-bottom:20px; font-weight:600; }

        .alert { padding:12px 16px; border-radius:10px; margin-bottom:18px; font-weight:500; display:flex; gap:10px; align-items:center; }
        .alert-error { background:#fee2e2; color:#991b1b; border-left:4px solid #ef4444; }
        .alert-success { background:#d1fae5; color:#065f46; border-left:4px solid #10b981; }

        form { display:flex; flex-direction:column; gap:18px; }

        label { display:block; margin-bottom:6px; font-weight:600; color:#374151; font-size:0.95rem; }
        .input-wrapper { position:relative; }

        input[type="text"], input[type="password"] {
            width:100%; padding:14px 16px; border:2px solid #e6eefc; border-radius:10px; font-size:1rem; background:#f8fafc;
            color:#0f172a;
        }
        input[type="text"]:focus, input[type="password"]:focus {
            outline:none; border-color:#2563eb; box-shadow:0 0 0 6px rgba(37,99,235,0.08); background:white;
        }

        .login-btn {
            background: linear-gradient(90deg, #2563eb, #1e40af);
            color:white; border:none; padding:14px; border-radius:12px; font-size:1.05rem; font-weight:600; cursor:pointer;
        }

        .login-footer { text-align:center; margin-top:18px; color:#4b5563; font-size:0.9rem; }

        @media (max-width:480px) {
            .login-card { padding:30px 20px; }
            .logo-icon { font-size:2.6rem; }
        }
    </style>
</head>
<body>
<div class="login-container">
    <div class="login-card">
        <div class="logo">
            <span class="logo-icon">üéì</span>
            <h1>–°–∏—Å—Ç–µ–º–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏</h1>
        </div>

        <h2>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</h2>

        <div th:if="${param.error}" class="alert alert-error" role="alert" aria-live="polite">
            <span>‚ö†Ô∏è</span>
            <span>–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</span>
        </div>

        <div th:if="${param.logout}" class="alert alert-success" role="status" aria-live="polite">
            <span>‚úÖ</span>
            <span>–í—ã –≤—ã—à–ª–∏ —Å —Å–∏—Å—Ç–µ–º—ã</span>
        </div>

        <!-- Use static action to avoid session creation during template parsing -->
        <form action="/login" method="post">
            <!-- Insert CSRF hidden input only when token is available to avoid session creation during parsing -->
            <input type="hidden" th:if="${_csrf != null}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

            <div>
                <label for="username">–õ–æ–≥–∏–Ω</label>
                <div class="input-wrapper">
                    <input type="text" id="username" name="username" autofocus placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ª–æ–≥–∏–Ω" />
                </div>
            </div>

            <div>
                <label for="password">–ü–∞—Ä–æ–ª—å</label>
                <div class="input-wrapper">
                    <input type="password" id="password" name="password" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å" />
                </div>
            </div>

            <button class="login-btn" type="submit">–í–æ–π—Ç–∏</button>
        </form>

        <div class="login-footer">
            <p>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å? <a href="#" style="color:#2563eb; text-decoration:none">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</a></p>
        </div>
    </div>
</div>
</body>
</html>