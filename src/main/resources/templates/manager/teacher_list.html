<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Список учителей</title>
    <link rel="stylesheet" th:href="@{/css/app.css}" href="/css/app.css"/>
</head>
<body>
<div class="container">
    <div class="header-row">
        <div class="header-left">
            <h1>Учителя</h1>
            <div class="small">Список учителей</div>
        </div>
        <div class="header-actions">
            <form th:action="@{/logout}" method="post" th:object="${_csrf}">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="btn-consume">Выйти</button>
            </form>
        </div>
    </div>

    <div class="table-card">
        <table>
            <thead>
            <tr><th>ФИО</th><th>Teacher ID</th><th>Студенты</th><th>Действия</th></tr>
            </thead>
            <tbody>
            <tr th:each="t : ${teachers}">
                <td>
                    <div th:text="${t.firstName + ' ' + t.lastName}">Имя Фамилия</div>
                    <div class="kv" th:text="${t.phone}">phone</div>
                </td>
                <td th:text="${t.userId}">ID</td>
                <td th:text="${studentsCountMap != null && studentsCountMap.containsKey(t.userId) ? studentsCountMap[t.userId] : 0}">0</td>
                <td>
                    <a th:href="@{/manager/teacher_slots/{id}(id=${t.userId})}" class="btn-consume">Слоты</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>